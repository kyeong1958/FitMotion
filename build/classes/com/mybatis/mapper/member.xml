<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.mapper.MemberMapper">
	<select id="test2">
		SELECT 1 FROM dual
	</select>
	<!--==================================[[민지 시작]]==============================================================  -->
	<insert id="MemModal" parameterType="map">
			insert into Member(mem_num,mem_name,mem_birth,mem_gender,mem_address,mem_hp,
                                    mem_registration_date,mem_manager,mem_app_availability,mem_barcode_num
                                      ,mem_memo,mem_pw,mem_id,mem_image)
                                   values(#{mem_num},#{mem_name},#{mem_birth},#{mem_gender},#{mem_address},
                                   #{mem_hp},#{mem_registration_date},#{mem_manager},#{mem_app_availability},#{mem_barcode_num},
                                   #{mem_memo},'abc','1234','png')
	
	
	</insert>
	
   <update  id="MemUpd" parameterType="map">
         UPDATE member
               SET mem_name = #{mem_name},
                   mem_birth = #{mem_birth},
                   mem_gender = #{mem_gender},
                     mem_address =#{mem_address},
                   mem_hp = #{mem_hp},
                   mem_registration_date = #{mem_registration_date},
                   mem_manager = #{mem_manager},
                   mem_app_availability = #{mem_app_availability},
                   mem_barcode_num = #{mem_barcode_num},
                   mem_memo = #{mem_memo},
                   mem_pw = #{mem_pw},
                   mem_id = #{mem_id},
             WHERE mem_num = #{mem_num}      
   
   
   </update>
   
   
   
   <select id="MemSel" parameterType="map" resultType="map">
         select rownum rno,mem_num,mem_name,mem_birth
                       ,mem_gender,mem_address
                               ,mem_hp,mem_registration_date,mem_manager,mem_app_availability
                               ,mem_barcode_num,mem_memo,mem_id,mem_pw
                                           from Member
                    order by rno asc
   </select>
   
   
   <delete id="MemDEL" parameterType="map">
      delete from member where mem_num=#{mem_num}
   </delete>

	<select id="MemSearch" parameterType="map" resultType="int">
		       
       select mem_num,mem_name,mem_birth
                       ,mem_gender,mem_address
                               ,mem_hp,mem_registration_date,mem_manager,mem_app_availability
                               ,mem_barcode_num,mem_memo,mem_id,mem_pw
                                           from Member
       <if  test="mem_search!=null and mem_search.equals('mem_name')">
       		AND mem_name LIKE '%'||#{keyword}||'%'
       
       </if>
		<if test="genderSearch!=null and genderSearch.equals('mem_gender')">
		
		</if>
	
	</select>
	
	
	<select id="mem_gender" parameterType="map" resultType="int"> 
          SELECT mem_num,mem_name,mem_birth
                       ,mem_gender,mem_address
                               ,mem_hp,mem_registration_date,mem_manager,mem_app_availability
                               ,mem_barcode_num,mem_memo,mem_id,mem_pw  FROM  member
								WHERE mem_gender  = #{mem_gender} ;
	
	</select>
	
	<!--==================================[[민지 끝]]==============================================================  -->
	
	<select id="memDET" parameterType="map" resultType="map">
		SELECT rownum rno, mem_num,mem_name,mem_birth
                      		 ,mem_gender,mem_address
                               ,mem_hp,mem_registration_date,mem_manager,mem_app_availability
                               ,mem_barcode_num,mem_memo,mem_id,mem_pw  FROM  member 
                               WHERE mem_num =#{mem_num}
                               ORDER BY RNO ASC
	</select>
	
	 
	
	
</mapper> 
 